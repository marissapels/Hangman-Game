<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="UTF-8">
		<title>Hangman</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="assets/css/style.css">
	</head>
	<body>
		<header>
			<h1>Hangman, Travel Edition</h1>
		</header>

		<div id="parisWin">
			<img src="assets/images/eiffelTower.jpg" alt="Eiffel Tower" class="win1" id="eiffel">
			<img src="assets/images/arch.jpg" alt="Arc de Triomphe" class="win2" id="arc">
			<img src="assets/images/lourve.jpg" alt="lourve" class="win3" id="lourve">
		</div>

		<section class="container">
			<div class="row">
				<div class="col-md-6">
					<p>Start guessing letters to begin the game!</p>
					<span id="dashes"> </span>
				</div>
				<div class="col-md-6">
					<p>Letters Guessed: <span id="guesses"> no letters guessed </span></p>
				</div>

			</div>
		</section>


		<div id="game">
	    	<p> Start guessing letters to begin the game! </p>
	   </div>

	   <script type="text/javascript">



	   var cities =["paris"];

	   function restartGame(){
	   		var lettersGuessed = [];
	   		var computerChoice = cities[Math.floor(Math.random() * cities.length)];
	   		var computerChoiceHidden =  computerChoice.replace(/[a-z]/g, "-");
	   		//var html = "<p>Start guessing letters to begin the game!</p>" + 
						//computerChoiceHidden;


			document.querySelector("#dashes").innerHTML = computerChoiceHidden;
			document.querySelector("#guesses").innerHTML = lettersGuessed;

			document.onkeyup = function (event){

		   		//Function that replaces an index in a string with a specified value

	    		function replaceAt(string,index,replacement) {
	    				return string.substr(0, index) + replacement + string.substr(index+1);
				}

					//userGuess is equal to the key that the user selects
				var userGuess = event.key;

				if (computerChoice.includes(userGuess)){
					var letterIndex =[];
					//creates an array that stores the index value of where the letter guessed is located in the string
					for (var i=0; i<computerChoice.length; i++){
						if(computerChoice[i] === userGuess) letterIndex.push(i);
					}
					//replaces the "-" with the determined index locations in letterIndex. Loop is important for words containing more than one of the same letter.
						
					for (var j=0; j<letterIndex.length; j++){
							computerChoiceHidden=replaceAt(computerChoiceHidden, letterIndex[j], userGuess);
					}
				}

				else {
					lettersGuessed.push(userGuess);
				}

				//document.getElementById("guesses").innerHTML

				//var html = "<p>Start guessing letters to begin the game!</p>" + 
						//computerChoiceHidden;

			document.querySelector("#dashes").innerHTML = computerChoiceHidden;
			document.querySelector("#guesses").innerHTML = lettersGuessed;

				if (computerChoiceHidden===computerChoice && computerChoice==="paris"){
					document.getElementById("parisWin").style.visibility = "visible";
					restartGame();
					return;
					
				}
	   		}
		}

	   window.onload = function(event) {
	   	   	restartGame();	 		   
		}
	   </script>
	</body>
</html>